@import "../../../styles/shared";

#form-spinner {
  margin: 2em 0;
}

:host {
  &.clst-preview {
    ::ng-deep {
      form {
        opacity: 0.7;
        pointer-events: none;
      }
    }
  }
}

.clst-doc-title-container {
  border-radius: 3px 3px 0 0;
  margin: -2rem -2rem 2rem -2rem;
  position: relative;
  .clst-doc-title-bg {
    position: absolute;
    opacity: 0.1;
    top: 1rem;
    right: -2rem;
    width: 25%;
    &.clst-lt-sm-res { // max-width: 599px
      right: -3rem;
      width: 40%;
      @media screen and (max-width: 320px) {
        top: unset;
        bottom: -1rem;
      }
      @media screen and (min-width: 481px) and (max-width: 599px) {
        width: 30%;
      }
    }
  }
  h1.clst-doc-title {
    font-family: Merriweather, serif;
    font-size: 2.2rem;
    color: #fff;
    padding: 2rem 2rem 3rem 2.1rem;
    border-left: none;
  }
}

.clst-doc-flexible-text {
  background: $default-section-background;
  padding: 2rem;
  margin: -2rem;
  border-top-left-radius: $border-radius;
  border-top-right-radius: $border-radius;
  ::ng-deep {
    img {
      mix-blend-mode: multiply;
    }
    & > *:last-child {
      margin-bottom: 0;
    }
  }
}

.clst-checklist-items {
  background: $default-section-background;
}

.skip-to-container {
  background: #fff;
  border-top: 1px solid $default-section-emphasis;
  color: $muted-gray;
  margin: 2rem -2rem -2rem -2rem;
  padding: 0.7rem 2rem 0.5rem 2rem;
  overflow: auto;
  display: flex;

  .st-label {
    font-size: 0.75rem;
    flex-basis: auto;
    flex-grow: 0;
    flex-shrink: 0;
    padding-right: 0.5rem;
  }
  .skip-to-section {
    font-size: 0.8rem;
    margin: 0.04rem 0 0 0;
    padding: 0;
    flex-basis: auto;
    flex-grow: 0;
    flex-shrink: 1;
    line-height: 1.6;

    li {
      display: inline;
      margin: 0 0.2rem 0.2rem 0;
      float: left;
      padding: 0 0.3rem;
      border-width: 0;
      border-bottom-width: 1px;
      border-style: dotted;
      border-radius: 3px;
      .percent-done {
        margin-left: 0.2rem;
        font-size: 0.65rem;
        display: inline-block;
        width: 1.2rem;
        text-align: center;
        i {
          font-size: 0.75rem;
          vertical-align: bottom;
          padding-bottom: 0.2rem;
        }
      }
      a:visited {
        color: inherit;
      }
      &.clst-item-theme-default {
        background: lighten($default-section-emphasis, 15%);
        border-bottom-color: darken($default-section-emphasis, 10%);
        &:hover {
          border-bottom-color: transparent;
        }
        .percent-done {
          color: darken($default-section-emphasis, 30%);
        }
      }
      &.clst-item-theme-started {
        background: lighten($theme-started, 12%);
        border-color: darken($theme-started, 10%);
        &:hover {
          border-bottom-color: transparent;
        }
        .percent-done {
          color: darken($theme-started, 30%);
        }
      }
      &.clst-item-theme-completed {
        background: saturate(lighten($theme-completed, 20%), 5%);
        border-color: darken($theme-completed, 20%);
        &:hover {
          border-bottom-color: transparent;
        }
        .percent-done {
          color: darken(saturate($theme-completed, 80%), 42%);
        }
      }
    }
  }
}

.clst-actions-container {
  padding-bottom: 1.5rem;
  &.no-actions {
    padding-top: 1.5rem;
  }
  .clst-actions {
    margin-bottom: 0;
  }
  .clst-btn-grp + .clst-action-msg {
    margin-top: 1rem;
  }
}

.as-value ::ng-deep {
  img {
    @extend .clst-flx-txt-img;
  }
  iframe {
    @extend .clst-flx-txt-iframe;
  }
  .ql-align-center {
    @extend .clst-flx-txt-align-center;
  }
  .ql-align-justify {
    @extend .clst-flx-txt-align-justify;
  }
  .ql-align-right {
    @extend .clst-flx-txt-align-right;
  }
  .ql-video.ql-align-center {
    @extend .clst-flx-txt-video-align-center;
  }
  .ql-video.ql-align-right {
    @extend .clst-flx-txt-video-align-right;
  }
  h1, h2, h3, h4, h5, h6 {
    @extend .clst-h-adjust;
  }
}
.as-value.clst-lt-sm-res ::ng-deep iframe {
  width: 100%;
  max-width: 100%;
}
